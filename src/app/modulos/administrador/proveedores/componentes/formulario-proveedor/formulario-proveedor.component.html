<div class="formulario-container">
  <!-- Header -->
  <div class="formulario-header">
    <button class="btn-volver" (click)="volver()">
      ‚Üê Volver a la lista
    </button>
    <h1 class="titulo">
      {{ modoEdicion() ? '‚úèÔ∏è Editar Proveedor' : '‚ûï Nuevo Proveedor' }}
    </h1>
  </div>

  <!-- Indicador de carga -->
  @if (cargando()) {
    <div class="cargando">
      <div class="spinner"></div>
      <p>Cargando datos del proveedor...</p>
    </div>
  }

  <!-- Formulario -->
  @if (!cargando()) {
    <div class="formulario-card">
      <form (ngSubmit)="guardar()">
        <!-- Informaci√≥n del Proveedor -->
        <div class="seccion">
          <h3 class="seccion-titulo">üì¶ Informaci√≥n del Proveedor</h3>
          
          <div class="form-grid">
            <!-- Nombre -->
            <div class="form-group">
              <label class="form-label">
                Nombre del Proveedor <span class="obligatorio">*</span>
              </label>
              <input
                type="text"
                class="form-input"
                [class.error]="errores()['nombre']"
                placeholder="Ej: Distribuidora de Lanas S.A.C."
                [(ngModel)]="nombre"
                name="nombre"
                required
              />
              @if (errores()['nombre']) {
                <span class="mensaje-error">{{ errores()['nombre'] }}</span>
              }
            </div>

            <!-- Persona de Contacto -->
            <div class="form-group">
              <label class="form-label">Persona de Contacto (Opcional)</label>
              <input
                type="text"
                class="form-input"
                placeholder="Ej: Juan P√©rez - Gerente de Ventas"
                [(ngModel)]="contacto"
                name="contacto"
              />
            </div>
          </div>
        </div>

        <!-- Datos de Contacto -->
        <div class="seccion">
          <h3 class="seccion-titulo">üìû Datos de Contacto</h3>
          
          <div class="form-grid">
            <!-- Tel√©fono -->
            <div class="form-group">
              <label class="form-label">Tel√©fono (Opcional)</label>
              <input
                type="tel"
                class="form-input"
                [class.error]="errores()['telefono']"
                placeholder="Ej: 987654321"
                [(ngModel)]="telefono"
                name="telefono"
                maxlength="9"
              />
              @if (errores()['telefono']) {
                <span class="mensaje-error">{{ errores()['telefono'] }}</span>
              }
            </div>

            <!-- Email -->
            <div class="form-group">
              <label class="form-label">Email (Opcional)</label>
              <input
                type="email"
                class="form-input"
                [class.error]="errores()['email']"
                placeholder="Ej: ventas@proveedor.com"
                [(ngModel)]="email"
                name="email"
              />
              @if (errores()['email']) {
                <span class="mensaje-error">{{ errores()['email'] }}</span>
              }
            </div>
          </div>
        </div>

        <!-- Direcci√≥n -->
        <div class="seccion">
          <h3 class="seccion-titulo">üìç Ubicaci√≥n</h3>
          
          <div class="form-group">
            <label class="form-label">Direcci√≥n Completa (Opcional)</label>
            <textarea
              class="form-textarea"
              placeholder="Ej: Jr. Los Cedros 456, San Isidro, Lima"
              [(ngModel)]="direccion"
              name="direccion"
              rows="3"
            ></textarea>
            <span class="form-ayuda">
              üí° Incluya detalles como distrito, provincia y referencias
            </span>
          </div>
        </div>

        <!-- Botones de acci√≥n -->
        <div class="form-actions">
          <button
            type="button"
            class="btn-limpiar"
            (click)="limpiar()"
            [disabled]="guardando()"
          >
            üóëÔ∏è Limpiar
          </button>
          <button
            type="button"
            class="btn-cancelar"
            (click)="volver()"
            [disabled]="guardando()"
          >
            ‚úó Cancelar
          </button>
          <button
            type="submit"
            class="btn-guardar"
            [disabled]="guardando()"
          >
            @if (guardando()) {
              <span class="spinner-small"></span>
              Guardando...
            } @else {
              ‚úì {{ modoEdicion() ? 'Actualizar' : 'Crear' }} Proveedor
            }
          </button>
        </div>
      </form>
    </div>
  }
</div>