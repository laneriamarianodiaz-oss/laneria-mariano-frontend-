<div class="pedidos-personalizados">
  <!-- Header -->
  <div class="header">
    <button class="btn-volver" (click)="volverInicio()">
      â† Volver al inicio
    </button>
    <h1>ğŸ¨ Pedidos Personalizados</h1>
    <p class="subtitulo">Tu idea, nuestra lana. Â¡Hecho a tu medida!</p>
  </div>

  <!-- SecciÃ³n Hero -->
  <section class="seccion-hero">
    <div class="hero-contenido">
      <h2>Crea algo Ãºnico y especial</h2>
      <p>Trabajamos contigo para crear productos tejidos completamente personalizados. 
         Elige colores, tamaÃ±os, diseÃ±os y mÃ¡s.</p>
      <button class="btn-contactar-principal" (click)="contactarDirecto()">
        ğŸ’¬ ContÃ¡ctanos por WhatsApp
      </button>
    </div>
  </section>

  <!-- Tipos de pedidos personalizados -->
  <section class="seccion-tipos">
    <h2>Â¿QuÃ© podemos crear para ti?</h2>
    <div class="tipos-grid">
      <div class="tipo-card" *ngFor="let tipo of tiposPedidos" (click)="contactarPorTipo(tipo)">
        <div class="tipo-imagen">
          <img [src]="tipo.imagen" [alt]="tipo.titulo">
          <div class="overlay">
            <span class="btn-contactar-overlay">ğŸ’¬ Contactar</span>
          </div>
        </div>
        <div class="tipo-info">
          <h3>{{ tipo.titulo }}</h3>
          <p>{{ tipo.descripcion }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Productos de muestra -->
  <section class="seccion-muestra">
    <h2>Productos que puedes personalizar</h2>
    <p class="descripcion-muestra">
      Estos son algunos ejemplos de nuestros productos. ContÃ¡ctanos para personalizarlos a tu gusto.
    </p>

    <!-- Loading -->
    <div class="loading" *ngIf="cargando">
      <div class="spinner"></div>
      <p>Cargando productos...</p>
    </div>

    <!-- Grid de productos -->
    <div class="productos-grid" *ngIf="!cargando">
      <div 
        class="producto-card" 
        *ngFor="let producto of productosMuestra">
        <img 
          [src]="producto.imagen_url || 'assets/productos/default.jpg'" 
          [alt]="producto.nombre_producto"
          class="producto-imagen"
          (click)="verDetalle(producto)">
        
        <div class="producto-info">
          <h4>{{ producto.nombre_producto }}</h4>
          <p class="descripcion">{{ producto.descripcion }}</p>
          <p class="precio">S/ {{ (producto.precio_unitario || producto.precio_producto || 0) | number:'1.2-2' }}</p>
          <p class="nota-precio">*Precio base, puede variar segÃºn personalizaciÃ³n</p>
          
          <!-- BotÃ³n contactar en lugar de agregar -->
          <button class="btn-contactar" (click)="contactarConProducto(producto)">
            ğŸ’¬ Contactar para personalizar
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- SecciÃ³n cÃ³mo funciona -->
  <section class="seccion-proceso">
    <h2>Â¿CÃ³mo funciona?</h2>
    <div class="proceso-grid">
      <div class="paso">
        <div class="numero">1</div>
        <h3>ContÃ¡ctanos</h3>
        <p>EnvÃ­anos un mensaje por WhatsApp contÃ¡ndonos tu idea</p>
      </div>
      <div class="paso">
        <div class="numero">2</div>
        <h3>DiseÃ±amos juntos</h3>
        <p>Te ayudamos a elegir colores, tamaÃ±os y diseÃ±os</p>
      </div>
      <div class="paso">
        <div class="numero">3</div>
        <h3>Confirmamos detalles</h3>
        <p>Te enviamos un presupuesto y tiempo de entrega</p>
      </div>
      <div class="paso">
        <div class="numero">4</div>
        <h3>Â¡Listo!</h3>
        <p>Tejemos tu pedido con amor y te lo entregamos</p>
      </div>
    </div>
  </section>

  <!-- Call to action final -->
  <section class="seccion-cta">
    <div class="cta-contenido">
      <h2>Â¿Tienes una idea en mente?</h2>
      <p>No esperes mÃ¡s, contÃ¡ctanos y hagamos realidad tu proyecto</p>
      <button class="btn-contactar-grande" (click)="contactarDirecto()">
        ğŸ’¬ Iniciar conversaciÃ³n en WhatsApp
      </button>
    </div>
  </section>

  <!-- Modal de Detalle (solo para ver, sin agregar) -->
  <app-detalle-producto-modal 
    [producto]="productoSeleccionado"
    (cerrar)="cerrarModal()">
  </app-detalle-producto-modal>
</div>